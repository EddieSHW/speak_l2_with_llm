# 日本語会話教師 - AI 日本語練習アプリ

Ollama を使用して動作する日本語学習者向けの会話練習アプリケーションです。このアプリは、文法的な間違いや不自然な表現を指摘し、より自然な日本語を学ぶことができます。

## 主な機能

- **日本語教師モード**: 文法的な間違いや不自然な表現を指摘し、より良い表現を提案
- **音声入力**: マイクから日本語を話して練習
- **音声出力**: AI の応答を音声で聞くことができる
- **テキスト入力・出力**: キーボードで入力して練習することも可能
- **完全プライベート**: ローカルの Ollama を使用するため、データは外部に送信されません
- **カスタマイズ可能**: 温度パラメータやトークン数を調整可能

## 前提条件

- Python 3.8 以上
- [Ollama](https://ollama.ai/)がインストール済みで実行中
- 少なくとも 1 つのモデルが Ollama にインストールされていること（推奨：gemma3）
- 音声認識には適切なマイク設定が必要

## インストール方法

1. リポジトリをクローン、またはファイルをダウンロードします。
2. 必要なパッケージをインストールします：

```bash
pip install -r requirements.txt
```

3. `.env.example`を`.env`にコピーして必要に応じて設定を変更します：

```bash
cp .env.example .env
```

## 使い方

1. Ollama が実行中であることを確認します。
2. 以下のコマンドでアプリケーションを起動します：

```bash
python main.py
```

3. ブラウザで`http://localhost:7860`にアクセスしてアプリケーションを使用します。
4. テキスト入力または音声入力を使用して日本語で会話練習ができます。
   - テキスト入力：入力ボックスに日本語でテキストを入力して Enter キーを押す
   - 音声入力：マイクボタンをクリックして話し、停止ボタンで音声認識を実行
5. AI が文法や表現の間違いを指摘し、より自然な表現を提案します。

## 日本語教師モードについて

このアプリのデフォルト設定では「日本語教師モード」が有効になっています。このモードでは：

1. 文法的なミスや不自然な表現を指摘
2. より自然な表現の提案
3. 会話の自然な継続

を AI が行います。日本語教師モードをオフにすると、通常の会話モードになり、文法チェックなしで会話が続きます。

## Ollama モデルのインストール方法

日本語での会話に適したモデルをインストールするには：

```bash
ollama pull gemma3
# または
ollama pull llama3
```

## トラブルシューティング

- **「Ollama サーバーに接続できません」エラー**：Ollama が実行中であることを確認してください。
- **音声認識エラー**：マイクが正しく設定されていることを確認してください。
- **音声出力が聞こえない**：ブラウザの音声設定を確認してください。
- **日本語の認識精度が低い**：静かな環境で、明瞭に話してください。
- **応答が遅い**：より小さなモデルを使用するか、GPU アクセラレーションが有効になっていることを確認してください。

## 学習に役立つヒント

- 毎日少しずつ練習することが効果的です
- 初めは簡単な文章から始めましょう
- AI からの修正提案を声に出して練習しましょう
- 同じ表現でもさまざまな言い方を試してみましょう

## 免責事項

このアプリケーションは学習支援ツールであり、プロの日本語教師に代わるものではありません。AI の提案には間違いが含まれる可能性もあるため、重要な場面では専門家に相談することをお勧めします。

## ライセンス

MIT ライセンス
